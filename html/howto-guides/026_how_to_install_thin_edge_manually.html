<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>How to install thin-edge manually with OpenRC - thin-edge.io docs</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="../SUMMARY.html"><strong aria-hidden="true">1.</strong> Summary</a></li><li class="chapter-item "><a href="../001_overview.html"><strong aria-hidden="true">2.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../user_doc.html"><strong aria-hidden="true">3.</strong> User Documentation</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../tutorials/tutorials.html"><strong aria-hidden="true">3.1.</strong> Tutorials</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../tutorials/getting-started.html"><strong aria-hidden="true">3.1.1.</strong> Getting started with thin-edge.io</a></li><li class="chapter-item "><a href="../tutorials/connect-c8y.html"><strong aria-hidden="true">3.1.2.</strong> Connect my device to Cumulocity IoT</a></li><li class="chapter-item "><a href="../tutorials/connect-azure.html"><strong aria-hidden="true">3.1.3.</strong> Connect my device to Azure IoT</a></li><li class="chapter-item "><a href="../tutorials/send-thin-edge-data.html"><strong aria-hidden="true">3.1.4.</strong> Send Thin Edge Json data</a></li><li class="chapter-item "><a href="../tutorials/raise-alarm.html"><strong aria-hidden="true">3.1.5.</strong> Raise alarms</a></li><li class="chapter-item "><a href="../tutorials/send-events.html"><strong aria-hidden="true">3.1.6.</strong> Send events</a></li><li class="chapter-item "><a href="../tutorials/device-monitoring.html"><strong aria-hidden="true">3.1.7.</strong> Monitor my device</a></li><li class="chapter-item "><a href="../tutorials/software-management.html"><strong aria-hidden="true">3.1.8.</strong> Manage my device software</a></li><li class="chapter-item "><a href="../tutorials/write-my-software-management-plugin.html"><strong aria-hidden="true">3.1.9.</strong> Write my software management plugin</a></li><li class="chapter-item "><a href="../tutorials/supported_operations.html"><strong aria-hidden="true">3.1.10.</strong> Supported Operations Management for Cumulocity IoT</a></li><li class="chapter-item "><a href="../tutorials/yocto-linux.html"><strong aria-hidden="true">3.1.11.</strong> Build Thin Edge for a Yocto Linux distribution</a></li></ol></li><li class="chapter-item expanded "><a href="../howto-guides/howto-guides.html"><strong aria-hidden="true">3.2.</strong> How-to Guides</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../howto-guides/002_installation.html"><strong aria-hidden="true">3.2.1.</strong> Installation</a></li><li class="chapter-item "><a href="../howto-guides/003_registration.html"><strong aria-hidden="true">3.2.2.</strong> How to create a test certificate</a></li><li class="chapter-item "><a href="../howto-guides/004_connect.html"><strong aria-hidden="true">3.2.3.</strong> How to connect a cloud end-point</a></li><li class="chapter-item "><a href="../howto-guides/005_pub_sub.html"><strong aria-hidden="true">3.2.4.</strong> How to send MQTT messages</a></li><li class="chapter-item "><a href="../howto-guides/007_test_connection.html"><strong aria-hidden="true">3.2.5.</strong> How to test the cloud connection?</a></li><li class="chapter-item "><a href="../howto-guides/008_config_local_mqtt_bind_address_and_port.html"><strong aria-hidden="true">3.2.6.</strong> How to configure the local mqtt bind address and port</a></li><li class="chapter-item "><a href="../howto-guides/009_trouble_shooting_monitoring.html"><strong aria-hidden="true">3.2.7.</strong> How to trouble shoot device monitoring</a></li><li class="chapter-item "><a href="../howto-guides/010_add_self_signed_trusted.html"><strong aria-hidden="true">3.2.8.</strong> How to add self-signed certificate root to trusted certificates list?</a></li><li class="chapter-item "><a href="../howto-guides/011_retrieve_jwt_token_from_cumulocity.html"><strong aria-hidden="true">3.2.9.</strong> How to retrieve JWT token from Cumulocity?</a></li><li class="chapter-item "><a href="../howto-guides/012_install_and_enable_software_management.html"><strong aria-hidden="true">3.2.10.</strong> How to install and enable software management?</a></li><li class="chapter-item "><a href="../howto-guides/013_connect_external_device.html"><strong aria-hidden="true">3.2.11.</strong> How to connect an external device?</a></li><li class="chapter-item "><a href="../howto-guides/014_thin_edge_logs.html"><strong aria-hidden="true">3.2.12.</strong> How to access the logs on the device?</a></li><li class="chapter-item "><a href="../howto-guides/015_installation_without_deb_support.html"><strong aria-hidden="true">3.2.13.</strong> How to install thin-edge.io on any Linux OS (no deb support)?</a></li><li class="chapter-item "><a href="../howto-guides/016_restart_device_operation.html"><strong aria-hidden="true">3.2.14.</strong> How to restart your thin-edge.io device</a></li><li class="chapter-item "><a href="../howto-guides/017_apama_software_management_plugin.html"><strong aria-hidden="true">3.2.15.</strong> How to use apama software management plugin</a></li><li class="chapter-item "><a href="../howto-guides/018_change_temp_path.html"><strong aria-hidden="true">3.2.16.</strong> How to change temp path</a></li><li class="chapter-item "><a href="../howto-guides/019_how_to_use_preferred_init_system.html"><strong aria-hidden="true">3.2.17.</strong> How to use thin-edge.io with your preferred init system</a></li><li class="chapter-item "><a href="../howto-guides/020_monitor_tedge_health.html"><strong aria-hidden="true">3.2.18.</strong> How to monitor health of tedge daemons</a></li><li class="chapter-item "><a href="../howto-guides/021_enable_tedge_watchdog_using_systemd.html"><strong aria-hidden="true">3.2.19.</strong> How to enable systemd watchdog monitoring for tedge services?</a></li><li class="chapter-item "><a href="../howto-guides/022_c8y_fragments.html"><strong aria-hidden="true">3.2.20.</strong> How to add custom fragments to Cumulocity</a></li><li class="chapter-item "><a href="../howto-guides/023_c8y_log_plugin.html"><strong aria-hidden="true">3.2.21.</strong> How to retrieve logs with the log plugin</a></li><li class="chapter-item "><a href="../howto-guides/024_smartrest_templates.html"><strong aria-hidden="true">3.2.22.</strong> How to use Cumulocity Custom SmartREST 2.0 Templates with thin-edge.io</a></li><li class="chapter-item "><a href="../howto-guides/025_config_management_plugin.html"><strong aria-hidden="true">3.2.23.</strong> How to manage configuration files with Cumulocity</a></li><li class="chapter-item expanded "><a href="../howto-guides/026_how_to_install_thin_edge_manually.html" class="active"><strong aria-hidden="true">3.2.24.</strong> How to install thin-edge manually with OpenRC</a></li><li class="chapter-item "><a href="../howto-guides/child_device_config_management_agent.html"><strong aria-hidden="true">3.2.25.</strong> How to enable configuration management on child devices</a></li></ol></li></ol></li><li class="chapter-item "><a href="../dev_doc.html"><strong aria-hidden="true">4.</strong> Developer Documentation</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../architecture/architecture.html"><strong aria-hidden="true">4.1.</strong> Architecture</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../architecture/thin-edge-json.html"><strong aria-hidden="true">4.1.1.</strong> Thin Edge Json</a></li><li class="chapter-item "><a href="../architecture/mapper.html"><strong aria-hidden="true">4.1.2.</strong> The Mapper</a></li><li class="chapter-item "><a href="../architecture/software-management.html"><strong aria-hidden="true">4.1.3.</strong> Software Management</a></li><li class="chapter-item "><a href="../architecture/faq.html"><strong aria-hidden="true">4.1.4.</strong> Architecture FAQ</a></li><li class="chapter-item "><a href="../supported-platforms.html"><strong aria-hidden="true">4.1.5.</strong> Platform support</a></li><li class="chapter-item "><a href="../references/init-system-config.html"><strong aria-hidden="true">4.1.6.</strong> Init System configuration</a></li></ol></li><li class="chapter-item "><a href="../tutorials/write-my-software-management-plugin.html"><strong aria-hidden="true">4.2.</strong> Write my own software management plugin</a></li><li class="chapter-item "><a href="../references/c8y-configuration-management.html"><strong aria-hidden="true">4.3.</strong> Device Configuration Management using Cumulocity</a></li><li class="chapter-item "><a href="../api.html"><strong aria-hidden="true">4.4.</strong> APIs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../references/bridged-topics.html"><strong aria-hidden="true">4.4.1.</strong> The Bridged Topics</a></li><li class="chapter-item "><a href="../references/plugin-api.html"><strong aria-hidden="true">4.4.2.</strong> The Software Management Plugin API</a></li></ol></li><li class="chapter-item "><a href="../BUILDING.html"><strong aria-hidden="true">4.5.</strong> Building</a></li></ol></li><li class="chapter-item "><a href="../references/references.html"><strong aria-hidden="true">5.</strong> Command Line Reference</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../references/tedge.html"><strong aria-hidden="true">5.1.</strong> The tedge command</a></li><li class="chapter-item "><a href="../references/tedge-config.html"><strong aria-hidden="true">5.2.</strong> The tedge config command</a></li><li class="chapter-item "><a href="../references/tedge-cert.html"><strong aria-hidden="true">5.3.</strong> The tedge cert command</a></li><li class="chapter-item "><a href="../references/tedge-connect.html"><strong aria-hidden="true">5.4.</strong> The tedge connect command</a></li><li class="chapter-item "><a href="../references/tedge-disconnect.html"><strong aria-hidden="true">5.5.</strong> The tedge disconnect command</a></li><li class="chapter-item "><a href="../references/tedge-mqtt.html"><strong aria-hidden="true">5.6.</strong> The tedge mqtt command</a></li><li class="chapter-item "><a href="../references/thin-edge-config-files.html"><strong aria-hidden="true">5.7.</strong> Thin-edge.io configuration files</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">thin-edge.io docs</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="how-to-install-thin-edgeio-manually-with-openrc"><a class="header" href="#how-to-install-thin-edgeio-manually-with-openrc">How to install thin-edge.io manually with OpenRC</a></h1>
<p>This tutorial will demo how to install thin-edge.io manually for a non-debian linux distribution that uses OpenRC as its init system.
The aim of this tutorial is to show how to get started with Cumulocity IoT even if your current system is not supported by the default installation of thin-edge.io.
For reference, this tutorial is done with the following system specs:</p>
<ul>
<li>Operating System: Linux gentoo</li>
<li>Linux kernel version: 5.15.41-gentoo-x86_64</li>
<li>Architecture: x86_64</li>
<li>Init system: OpenRC</li>
</ul>
<h2 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h2>
<p>If you wish to <a href="#building-from-source">build binaries from source</a>, you will to install rust from https://www.rust-lang.org/tools/install.</p>
<p>You will also need to have mosquitto installed. Check your package manager for an available version, or you can <a href="https://github.com/eclipse/mosquitto">building from source</a>. (If you build from source, add <code>WITH_TLS=yes</code> flag to make).</p>
<h2 id="building-from-source"><a class="header" href="#building-from-source">Building from source</a></h2>
<p>To build from source, download the <strong>Source code (zip)</strong> from the <a href="https://github.com/thin-edge/thin-edge.io/releases/latest">latest releases page</a>.</p>
<p align="center">
  <img src="./images/manual_installation-download_source_code.png" alt="Sublime's custom image"/>
</p>
<p>Once downloaded, unzip it and enter the thin-edge.io directory and build the project with the <code>--release</code> flag:</p>
<pre><code class="language-shell">unzip thin-edge*.zip
cd thin-edge*/
cargo build --release
</code></pre>
<p>This will build the thin-edge.io binaries in the target/release directory. You will then need to move each binary to <code>/usr/bin</code> or an equivalent location in $PATH.
A minimal thin-edge.io installation requires three components:</p>
<ul>
<li>tedge CLI</li>
<li>tedge agent</li>
<li>tedge mapper</li>
</ul>
<pre><code class="language-shell">sudo mv target/release/tedge /usr/bin
sudo mv target/release/tedge_agent /usr/bin
sudo mv target/release/tedge_mapper /usr/bin
</code></pre>
<p>You should now have access to the <code>tedge</code>, <code>tedge_agent</code> and <code>tedge_mapper</code> binaries.</p>
<p align="center">
  <img src="./images/manual_installation-tedge_binary_dry_run.png" alt="Sublime's custom image"/>
</p>
<h2 id="extracting-binaries-from-debian-files"><a class="header" href="#extracting-binaries-from-debian-files">Extracting binaries from debian files</a></h2>
<p>Download the debian files from the <a href="https://github.com/thin-edge/thin-edge.io/releases/latest">latest releases page</a>.
For a minimal configuration of thin-edge.io with Cumulocity IoT, you will need to download:</p>
<ul>
<li>tedge_{VERSION}_amd64.deb</li>
<li>tedge_agent_{VERSION}_amd64.deb</li>
<li>tedge_mapper_{VERSION}_amd64.deb</li>
</ul>
<p align="center">
  <img src="./images/manual_installation-minimum_deb_packages.png" alt="Sublime's custom image"/>
</p>
<p>Next, unpack each deb file and copy the binary to <code>/usr/bin</code>.
For <code>tedge</code> debian package do:</p>
<pre><code class="language-shell">ar -x tedge_*_amd64.deb | tar -xf data.tar.xz
</code></pre>
<p>This unpacks two directories <code>usr/bin/</code>, move its contents to <code>/usr/bin</code></p>
<pre><code class="language-shell">sudo mv usr/bin/tedge /usr/bin
</code></pre>
<blockquote>
<p>Note: Do the same for tedge_agent and tedge_mapper debian packages.</p>
</blockquote>
<h2 id="step-1-creating-the-tedge-user"><a class="header" href="#step-1-creating-the-tedge-user">Step 1: Creating the tedge user</a></h2>
<p>The next step is to create the tedge user. This is normally taken care by the debian package for the <code>tedge</code> CLI tool.</p>
<p>To do this in Gentoo, for example, you can:</p>
<pre><code class="language-shell">sudo groupadd --system tedge

sudo useradd --system --no-create-home -c &quot;&quot; -s /sbin/nologin -g tedge tedge
</code></pre>
<p>Now that we have created the tedge user, we need to allow the tedge user to call commands with <code>sudo</code> without requiring a password:</p>
<pre><code class="language-shell">sudo echo &quot;tedge  ALL = (ALL) NOPASSWD: /usr/bin/tedge, /etc/tedge/sm-plugins/[a-zA-Z0-9]*, /bin/sync, /sbin/init&quot; &gt;/etc/sudoers.d/tedge
</code></pre>
<p>Next, create the files and directories required by thin-edge.io and restart mosquitto too.</p>
<pre><code class="language-shell">sudo rc-service mosquitto stop
sudo tedge --init
sudo rc-service mosquitto start
sudo tedge_agent --init
sudo tedge_mapper --init c8y
</code></pre>
<p>This should show the following output:</p>
<p align="center">
  <img src="./images/manual_installation-binaries_init.png" alt="Sublime's custom image"/>
</p>
<blockquote>
<p>Note: if you do not restart mosquitto you will see a Connection refused error. Do not worry, this error can be ignored.</p>
</blockquote>
<p>Ensure that running the init has created the following files and directories in <code>/etc/tedge</code>:</p>
<p align="center">
  <img src="./images/manual_installation-tedge_directories.png" alt="Sublime's custom image"/>
</p>
<h2 id="step-3-creating-mosquitto-bridge"><a class="header" href="#step-3-creating-mosquitto-bridge">Step 3: Creating mosquitto bridge</a></h2>
<p>To create the mosquitto bridge simply run:</p>
<pre><code class="language-shell">sudo echo &quot;include_dir /etc/tedge/mosquitto-conf&quot; &gt;&gt; /etc/mosquitto/mosquitto.conf
</code></pre>
<p>You can test that <code>mosquitto</code> works by running: </p>
<pre><code class="language-shell">sudo mosquitto --config-file /etc/mosquitto/mosquitto.conf
</code></pre>
<h2 id="step-4-creating-openrc-service-files"><a class="header" href="#step-4-creating-openrc-service-files">Step 4: Creating OpenRC service files</a></h2>
<p>You will need service files for tedge_agent and tedge_mapper. For example:</p>
<blockquote>
<p>Note that, for Cumulocity IoT, the <code>tedge connect</code> command expects three service files called: mosquitto, tedge-agent and tedge-mapper-c8y</p>
</blockquote>
<p>For the <code>tedge-agent</code> service an example file is the following:</p>
<blockquote>
<p>FILE: /etc/init.d/tedge-agent</p>
</blockquote>
<pre><code class="language-sh">#!/sbin/runscript

start() {
   ebegin &quot;Starting tedge-agent&quot;
   start-stop-daemon --user tedge --start --background --exec tedge_agent
   eend $?
}

stop() {
    ebegin &quot;Stopping tedge-agent&quot;
    start-stop-daemon --stop --exec tedge_agent
    eend $?
}
</code></pre>
<p>For the <code>tedge-mapper-c8y</code> service an example file is the following:</p>
<blockquote>
<p>FILE: /etc/init.d/tedge-mapper-c8y</p>
</blockquote>
<pre><code class="language-sh">#!/sbin/runscript

start() {
   ebegin &quot;Starting tedge-mapper-c8y&quot;
   start-stop-daemon --user tedge --start --background --exec tedge_mapper c8y
   eend $?
}

stop() {
   ebegin &quot;Stopping tedge-mapper-c8y&quot;
   start-stop-daemon --stop --exec tedge_mapper
   eend $?
}
</code></pre>
<pre><code class="language-sh">sudo chmod +x /etc/init.d/tedge-agent
sudo chmod +x /etc/init.d/tedge-mapper-c8y
</code></pre>
<p>Next, we need to add a <code>system.toml</code> to <code>/etc/tedge/</code>, telling it to use OpenRC. To do this create the following file:</p>
<blockquote>
<p>FILE: /etc/tedge/system.toml</p>
</blockquote>
<pre><code class="language-sh">[init]
name = &quot;OpenRC&quot;
is_available = [&quot;/sbin/rc-service&quot;, &quot;-l&quot;]
restart = [&quot;/sbin/rc-service&quot;, &quot;{}&quot;, &quot;restart&quot;]
stop =  [&quot;/sbin/rc-service&quot;, &quot;{}&quot;, &quot;stop&quot;]
enable =  [&quot;/sbin/rc-update&quot;, &quot;add&quot;, &quot;{}&quot;]
disable =  [&quot;/sbin/rc-update&quot;, &quot;delete&quot;, &quot;{}&quot;]
is_active = [&quot;/sbin/rc-service&quot;, &quot;{}&quot;, &quot;status&quot;]
</code></pre>
<p>Limit the file's permission to read only:</p>
<pre><code class="language-sh">sudo chmod 444 /etc/tedge/system.toml
</code></pre>
<p>Finally, add the thin-edge.io services to start after boot: </p>
<pre><code>sudo rc-update add tedge-agent default
sudo rc-update add tedge-mapper-c8y default
</code></pre>
<p>We are finally ready to <a href="../tutorials/connect-c8y.html">connect to Cumulocity</a>!</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../howto-guides/025_config_management_plugin.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../howto-guides/child_device_config_management_agent.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../howto-guides/025_config_management_plugin.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../howto-guides/child_device_config_management_agent.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
